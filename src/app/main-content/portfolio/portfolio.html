<section class="portfolio-section">
  <h3>Portfolio</h3>
  <h2 class="portfolio-title">Featured Projects</h2>
  <p class="portfolio-desc">
    Explore a selection of my work here – Interact with<br>
    projects to see my skills in action.
  </p>
  <div class="portfolio-container">
    <div class="portfolio-list">
      <div class="portfolio-divider"></div>
      <ng-container *ngFor="let project of projects; let i = index">
        <div class="portfolio-item"
             (mouseenter)="showPreview(i)" (mouseleave)="hidePreview()" (click)="openDialog(i)">
          <div class="portfolio-row">
            <span class="portfolio-project-title">{{ project.title }}</span>
            <span class="portfolio-project-tags">
              <span class="portfolio-tags-line"></span>
              {{ project.tags }}
            </span>
          </div>

        </div>
        <div class="portfolio-divider"></div>
      </ng-container>
    </div>

    <div class="portfolio-preview" *ngIf="previewIndex !== null" [attr.data-project]="projects[previewIndex].title.toLowerCase().replace(' ', '-')">
    </div>
  </div>

  <
  <div class="portfolio-dialog-backdrop" *ngIf="dialogIndex !== null">
    <div class="portfolio-dialog">
      <button class="dialog-close" (click)="closeDialog()">&times;</button>
      <div class="dialog-content">
        <div class="dialog-number">{{ projects[dialogIndex].number }}</div>
        <div class="dialog-title">{{ projects[dialogIndex].title }}</div>
        <div class="dialog-desc-title">What is this project about?</div>
        <div class="dialog-desc">{{ projects[dialogIndex].description }}</div>
        <div class="dialog-tags">
          <span *ngFor="let tag of projects[dialogIndex].techs" class="dialog-tag">{{ tag }}</span>
        </div>
        <div class="dialog-links">
          <a *ngIf="projects[dialogIndex].github" [href]="projects[dialogIndex].github" target="_blank" class="dialog-link">GitHub ↗</a>
          <a *ngIf="projects[dialogIndex].live" [href]="projects[dialogIndex].live" target="_blank" class="dialog-link">Live Test ↗</a>
        </div>
      </div>
      <div class="dialog-image">
        <img [src]="projects[dialogIndex].dialogImage" alt="Project Screenshot" />
      </div>
      <button class="dialog-next" (click)="nextDialog($event)">Next project →</button>
    </div>
  </div>
</section>
